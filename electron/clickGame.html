<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>ä¸æ€è­°ãªæ£®ã®å†’é™º</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f0f0f0;
            margin: 0;
        }

        /* ã‚¿ã‚¤ãƒˆãƒ« */
        h1 {
            margin-bottom: 20px;
            font-size: 3em;
            color: #333;
            text-shadow: 2px 2px 4px #ddd;
        }

        /* ãƒ¡ã‚¤ãƒ³ã‚²ãƒ¼ãƒ ã‚¨ãƒªã‚¢ */
        #game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* æœ¨ */
        #tree {
            width: 250px;
            height: 350px;
            background-image: url('https://png.pngtree.com/png-clipart/20220823/original/pngtree-oak-tree-on-a-transparent-background-png-image_8474102.png');
            /* æœ¨ã®ç”»åƒã‚’è¨­å®š */
            background-size: cover;
            background-position: center;
            position: relative;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }

        /* ãƒã‚¤ãƒ³ãƒˆ */
        #points {
            font-size: 24px;
            margin-bottom: 10px;
            color: #333;
            text-shadow: 2px 2px 4px #ddd;
        }

        /* ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .upgrade-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }

        /* ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚«ãƒ¼ãƒ‰ */
        .upgrade-card {
            display: flex;
            align-items: center;
            width: 250px;
            padding: 15px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 10px;
            transition: box-shadow 0.2s ease-in-out;
        }

        /* ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚«ãƒ¼ãƒ‰ ãƒ›ãƒãƒ¼ */
        .upgrade-card:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¢ã‚¤ã‚³ãƒ³ */
        .upgrade-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #ddd;
            margin-right: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ†ã‚­ã‚¹ãƒˆ */
        .upgrade-text {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }

        /* ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ */
        .upgrade-button {
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 8px 15px;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
            font-weight: bold;
        }

        /* ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ ãƒ›ãƒãƒ¼ */
        .upgrade-button:hover {
            background-color: #45a049;
        }

        /* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
        #message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 5px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            pointer-events: none;
        }

        #message.show {
            opacity: 1;
            pointer-events: auto;
        }

        /* ã‚¯ã‚¨ã‚¹ãƒˆã‚¨ãƒªã‚¢ */
        #quests {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }

        /* ã‚¯ã‚¨ã‚¹ãƒˆã‚«ãƒ¼ãƒ‰ */
        .quest-card {
            display: flex;
            align-items: center;
            width: 250px;
            padding: 15px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 10px;
            transition: box-shadow 0.2s ease-in-out;
        }

        /* ã‚¯ã‚¨ã‚¹ãƒˆã‚«ãƒ¼ãƒ‰ ãƒ›ãƒãƒ¼ */
        .quest-card:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* ã‚¯ã‚¨ã‚¹ãƒˆ ã‚¢ã‚¤ã‚³ãƒ³ */
        .quest-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #ddd;
            margin-right: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* ã‚¯ã‚¨ã‚¹ãƒˆ ãƒ†ã‚­ã‚¹ãƒˆ */
        .quest-text {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }

        /* ã‚¯ã‚¨ã‚¹ãƒˆ ãƒœã‚¿ãƒ³ */
        .quest-button {
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 8px 15px;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
            font-weight: bold;
        }

        /* ã‚¯ã‚¨ã‚¹ãƒˆ ãƒœã‚¿ãƒ³ ãƒ›ãƒãƒ¼ */
        .quest-button:hover {
            background-color: #45a049;
        }

        /* æ•µ (ã‚¯ãƒ¢) */
        #enemy {
            width: 100px;
            height: 100px;
            background-image: url('spider.png');
            /* æ•µã®ç”»åƒã‚’è¨­å®š */
            background-size: cover;
            background-position: center;
            position: absolute;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            /* æœ€åˆã¯éè¡¨ç¤º */
            transition: opacity 0.5s ease-in-out;
            animation: enemy-move 3s linear infinite;
        }

        #enemy.show {
            opacity: 1;
        }

        @keyframes enemy-move {
            0% {
                transform: translateX(-50%) translateY(0);
            }

            50% {
                transform: translateX(-50%) translateY(10px);
            }

            100% {
                transform: translateX(-50%) translateY(0);
            }
        }
    </style>
</head>

<body>
    <h1>ä¸æ€è­°ãªæ£®ã®å†’é™º</h1>

    <div id="game-area">
        <div id="tree"></div>
        <div id="points">ãƒã‚¤ãƒ³ãƒˆ: 0</div>

        <div class="upgrade-section">
            <div class="upgrade-card">
                <div class="upgrade-icon" style="background-color: #ffbb33;">ğŸŒ²</div>
                <div class="upgrade-text">æœ¨ã‚’å¼·åŒ–</div>
                <button class="upgrade-button" id="upgradeTree">å¼·åŒ–ã™ã‚‹</button>
            </div>

            <div class="upgrade-card">
                <div class="upgrade-icon" style="background-color: #00bcd4;">ğŸ</div>
                <div class="upgrade-text">æœå®Ÿã‚’å¼·åŒ–</div>
                <button class="upgrade-button" id="upgradeFruit">å¼·åŒ–ã™ã‚‹</button>
            </div>

            <div class="upgrade-card">
                <div class="upgrade-icon" style="background-color: #673ab7;">ğŸŒ±</div>
                <div class="upgrade-text">ç¨®ã‚’è³¼å…¥</div>
                <button class="upgrade-button" id="buySeed">è³¼å…¥ã™ã‚‹</button>
            </div>
        </div>

        <div id="quests">
            <div class="quest-card" id="quest1">
                <div class="quest-icon" style="background-color: #e91e63;">ğŸ†</div>
                <div class="quest-text">100ãƒã‚¤ãƒ³ãƒˆè²¯ã‚ã‚‹</div>
                <button class="quest-button" id="completeQuest1" disabled>é”æˆ</button>
            </div>
            <div class="quest-card" id="quest2">
                <div class="quest-icon" style="background-color: #009688;">ğŸ†</div>
                <div class="quest-text">3åŒ¹ã®ã‚¯ãƒ¢ã‚’å€’ã™</div>
                <button class="quest-button" id="completeQuest2" disabled>é”æˆ</button>
            </div>
        </div>
    </div>

    <div id="message"></div>
    <div id="enemy"></div>

    <script>
        let points = 0;
        let treeLevel = 1;
        let fruitLevel = 1;
        let seedPrice = 10;
        let seedOwned = 1;
        let upgradeTreeCost = 10;
        let upgradeFruitCost = 20;
        let enemyHealth = 10;
        let attackPower = 1;
        let enemiesDefeated = 0;
        let currentSeed = "basic"; // ç¾åœ¨ã®ç¨®ã®ç¨®é¡
        let fruitBonus = 1; // æœå®Ÿã®ãƒœãƒ¼ãƒŠã‚¹
        let quest1Completed = false;
        let quest2Completed = false;
        const pointsElement = document.getElementById('points');
        const treeElement = document.getElementById('tree');
        const upgradeTreeButton = document.getElementById('upgradeTree');
        const upgradeFruitButton = document.getElementById('upgradeFruit');
        const buySeedButton = document.getElementById('buySeed');
        const messageElement = document.getElementById('message');
        const enemyElement = document.getElementById('enemy');
        const completeQuest1Button = document.getElementById('completeQuest1');
        const completeQuest2Button = document.getElementById('completeQuest2');

        // ã‚¯ã‚¨ã‚¹ãƒˆã®çŠ¶æ…‹ã‚’æ›´æ–°
        function updateQuest(questId, completed) {
            if (completed) {
                document.getElementById(questId).classList.add("completed");
                document.getElementById(`complete${questId}`).disabled = true;
            } else {
                document.getElementById(questId).classList.remove("completed");
                document.getElementById(`complete${questId}`).disabled = false;
            }
        }

        function updatePoints() {
            pointsElement.textContent = `ãƒã‚¤ãƒ³ãƒˆ: ${points}`;
        }

        function showMessage(message) {
            messageElement.textContent = message;
            messageElement.classList.add('show');
            setTimeout(() => {
                messageElement.classList.remove('show');
            }, 1500);
        }

        function fightEnemy() {
            enemyHealth -= attackPower;
            showMessage(`æ•µã« ${attackPower} ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆãŸï¼`);

            if (enemyHealth <= 0) {
                showMessage("æ•µã‚’å€’ã—ãŸï¼");
                enemyElement.classList.remove('show');
                enemiesDefeated++;

                // ã‚¯ã‚¨ã‚¹ãƒˆ 2 ã®é”æˆçŠ¶æ³ã‚’ç¢ºèª
                if (enemiesDefeated >= 3 && !quest2Completed) {
                    showMessage("ã‚¯ã‚¨ã‚¹ãƒˆ 2 é”æˆï¼ ç¨®ã®é¸æŠç”»é¢ãŒé–‹ãã¾ã™ã€‚");
                    quest2Completed = true;
                    updateQuest("quest2", true);
                }

                // æ•µã‚’å€’ã—ãŸæ™‚ã®å‡¦ç† (å ±é…¬ã‚„æ¬¡ã®æ•µã®å‡ºç¾ãªã©)
            } else {
                showMessage(`æ•µã® HP: ${enemyHealth}`);
            }
        }

        function spawnEnemy() {
            enemyHealth = 10;
            enemyElement.classList.add('show');
            // æ•µå‡ºç¾æ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã‚’è¿½åŠ 
        }

        function changeSeed() {
            const newSeed = prompt("æ¬¡ã®ç¨®ã‚’é¸ã‚“ã§ãã ã•ã„: basic, red, blue");
            if (newSeed === "basic" || newSeed === "red" || newSeed === "blue") {
                currentSeed = newSeed;
                showMessage(`æ–°ã—ã„ç¨®ï¼š${currentSeed}`);
            } else {
                showMessage("ç„¡åŠ¹ãªç¨®ã§ã™ã€‚");
            }
        }

        treeElement.addEventListener('click', () => {
            let fruitGain = 1 * treeLevel * fruitLevel * fruitBonus; // ç¨®ã®ãƒœãƒ¼ãƒŠã‚¹é©ç”¨
            points += fruitGain;
            updatePoints();

            // ã‚¯ã‚¨ã‚¹ãƒˆ 1 ã®é”æˆçŠ¶æ³ã‚’ç¢ºèª
            if (points >= 100 && !quest1Completed) {
                showMessage("ã‚¯ã‚¨ã‚¹ãƒˆ 1 é”æˆï¼ æœå®Ÿã®ãƒœãƒ¼ãƒŠã‚¹ã‚¢ãƒƒãƒ—ï¼");
                fruitBonus *= 1.5;
                quest1Completed = true;
                updateQuest("quest1", true);
            }

            // æœ¨ãŒæˆé•·ã™ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            treeElement.style.transition = 'transform 0.3s ease-in-out';
            treeElement.style.transform = 'scale(1.1)';
            setTimeout(() => {
                treeElement.style.transform = 'scale(1)';
            }, 300);

            // ãƒ©ãƒ³ãƒ€ãƒ ãªç¢ºç‡ã§æ•µå‡ºç¾
            if (Math.random() < 0.2) {
                spawnEnemy();
            }
        });

        upgradeTreeButton.addEventListener('click', () => {
            if (points >= upgradeTreeCost) {
                points -= upgradeTreeCost;
                treeLevel += 1;
                upgradeTreeCost *= 1.5;
                updatePoints();
                showMessage("æœ¨ãŒæˆé•·ã—ã¾ã—ãŸï¼");
                // æœ¨ã‚’å¤§ããã™ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
                treeElement.style.width = (treeElement.offsetWidth + 10) + 'px';
                treeElement.style.height = (treeElement.offsetHeight + 10) + 'px';
            } else {
                showMessage("ãƒã‚¤ãƒ³ãƒˆãŒè¶³ã‚Šã¾ã›ã‚“ï¼");
            }
        });

        upgradeFruitButton.addEventListener('click', () => {
            if (points >= upgradeFruitCost) {
                points -= upgradeFruitCost;
                fruitLevel += 1;
                upgradeFruitCost *= 1.5;
                updatePoints();
                showMessage("æœå®ŸãŒå¤§ãããªã‚Šã¾ã—ãŸï¼");
            } else {
                showMessage("ãƒã‚¤ãƒ³ãƒˆãŒè¶³ã‚Šã¾ã›ã‚“ï¼");
            }
        });

        buySeedButton.addEventListener('click', () => {
            if (points >= seedPrice && seedOwned < 5) {
                points -= seedPrice;
                seedOwned += 1;
                seedPrice *= 1.5;
                updatePoints();
                showMessage("æ–°ã—ã„ç¨®ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ãŸï¼");
            } else if (points < seedPrice) {
                showMessage("ãƒã‚¤ãƒ³ãƒˆãŒè¶³ã‚Šã¾ã›ã‚“ï¼");
            } else {
                showMessage("ç¨®ã¯æœ€å¤§5å€‹ã¾ã§ã§ã™ï¼");
            }
        });

        completeQuest1Button.addEventListener('click', () => {
            if (points >= 100) {
                showMessage("ã‚¯ã‚¨ã‚¹ãƒˆ 1 é”æˆï¼ æœå®Ÿã®ãƒœãƒ¼ãƒŠã‚¹ã‚¢ãƒƒãƒ—ï¼");
                fruitBonus *= 1.5;
                quest1Completed = true;
                updateQuest("quest1", true);
            } else {
                showMessage("ãƒã‚¤ãƒ³ãƒˆãŒè¶³ã‚Šã¾ã›ã‚“ï¼");
            }
        });

        completeQuest2Button.addEventListener('click', () => {
            if (enemiesDefeated >= 3) {
                showMessage("ã‚¯ã‚¨ã‚¹ãƒˆ 2 é”æˆï¼ ç¨®ã®é¸æŠç”»é¢ãŒé–‹ãã¾ã™ã€‚");
                changeSeed();
                quest2Completed = true;
                updateQuest("quest2", true);
            } else {
                showMessage("ã‚¯ãƒ¢ã‚’ã‚‚ã£ã¨å€’ã—ã¦ãã ã•ã„ï¼");
            }
        });

        // ç¨®ã”ã¨ã®æœå®Ÿã®ãƒœãƒ¼ãƒŠã‚¹è¨­å®š
        if (currentSeed === "red") {
            fruitBonus = 1.2;
            showMessage("èµ¤è‰²ã®ç¨®: æœå®Ÿã®ãƒœãƒ¼ãƒŠã‚¹ã‚¢ãƒƒãƒ—ï¼");
        } else if (currentSeed === "blue") {
            fruitBonus = 1.3;
            showMessage("é’è‰²ã®ç¨®: æœå®Ÿã®ãƒœãƒ¼ãƒŠã‚¹ã‚¢ãƒƒãƒ—ï¼");
        }

        // ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚ã®ã‚¯ã‚¨ã‚¹ãƒˆè¨­å®š
        updateQuest("quest1", false);
        updateQuest("quest2", false);
    </script>
</body>

</html>