{
  "id": "C:/Users/issei/Velocity/src/components/Utility.tsx",
  "deps": [],
  "plugins": [
    "vite:load-fallback",
    "solid"
  ],
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "import { JSX, createSignal } from \"solid-js\";\r\nimport { tabStack } from \"~/data/appState\";\r\nimport engines from \"~/util/engines\";\r\nimport preferences from \"~/util/preferences\";\r\nimport * as urlUtil from \"~/util/url\";\r\nimport Tab from \"~/API/Tab\";\r\n\r\nexport default function Utility(): JSX.Element {\r\n  // Navigating back when history is empty makes the parent navigate so we will have to\r\n  // implement our own custom history handler\r\n  const [canGoBack, setCanGoBack] = createSignal(false);\r\n  const [canGoForward, setCanGoForward] = createSignal(false);\r\n\r\n  function reload() {\r\n    if (Array.from(tabStack())[0]?.loading()) {\r\n      Array.from(tabStack())[0]?.stop();\r\n    } else {\r\n      Array.from(tabStack())[0].search = false;\r\n      Array.from(tabStack())[0]?.reload();\r\n    }\r\n  }\r\n\r\n  function forward() {\r\n    Array.from(tabStack())[0].search = false;\r\n    Array.from(tabStack())[0]?.goForward();\r\n  }\r\n\r\n  function back() {\r\n    Array.from(tabStack())[0].search = false;\r\n    Array.from(tabStack())[0]?.goBack();\r\n  }\r\n\r\n  function urlBar(element: HTMLInputElement) {\r\n    element.addEventListener(\"keydown\", (event) => {\r\n      if (event.key === \"Enter\") {\r\n        event.preventDefault();\r\n        if (element.value) {\r\n          Array.from(tabStack())[0]?.navigate(element.value);\r\n          Array.from(tabStack())[0].search = false;\r\n          element.blur();\r\n        }\r\n      } else if (event.key === \"Escape\") {\r\n        Array.from(tabStack())[0].search = false;\r\n        element.blur();\r\n      } else {\r\n        setTimeout(() => (Array.from(tabStack())[0].search = element.value), 0);\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div class=\"flex items-center gap-2 w-full h-10 bg-[#2B2A33] p-2 text-white\">\r\n      <div class=\"flex gap-1 items-center\">\r\n        <div\r\n          class={`h-8 w-8 rounded ${\r\n            canGoBack() ? \"hover:bg-[#52525E]\" : \"text-[#95959E]\"\r\n          } flex items-center justify-center`}\r\n          onClick={back}\r\n        >\r\n          <i class=\"fa-light fa-arrow-left mt-[2px]\"></i>\r\n        </div>\r\n        <div\r\n          class={`h-8 w-8 rounded ${\r\n            canGoForward() ? \"hover:bg-[#52525E]\" : \"text-[#95959E]\"\r\n          } flex items-center justify-center`}\r\n          onClick={forward}\r\n        >\r\n          <i class=\"fa-light fa-arrow-right mt-[2px]\"></i>\r\n        </div>\r\n        <div\r\n          class=\"h-8 w-8 rounded hover:bg-[#52525E] flex items-center justify-center\"\r\n          onClick={reload}\r\n        >\r\n          <i\r\n            class={`fa-light ${\r\n              Array.from(tabStack())[0]?.loading()\r\n                ? \"fa-xmark\"\r\n                : \"fa-rotate-right\"\r\n            } mt-[2px]`}\r\n          ></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex items-center flex-1 h-[32px] text-sm rounded bg-[#1C1B22]\">\r\n        <div class=\"flex h-8 w-8 rounded items-center justify-center mx-[2px]\">\r\n          <i class=\"fa-light fa-magnifying-glass mt-[2px]\"></i>\r\n        </div>\r\n        <input\r\n          ref={urlBar}\r\n          id=\"url_bar\"\r\n          class=\"flex-1 flex items-center leading-8 h-full text-sm rounded bg-transparent focus:outline-none placeholder-[#B0B3B3]\"\r\n          value={\r\n            Array.from(tabStack())[0]?.search() !== false\r\n              ? (Array.from(tabStack())[0]?.search() as string)\r\n              : urlUtil.normalize(Array.from(tabStack())[0]?.url() || \"\")\r\n          }\r\n          placeholder={`Search with ${\r\n            engines[preferences()[\"search.defaults.searchEngine\"] || \"google\"]\r\n              .name\r\n          } or enter address`}\r\n        ></input>\r\n      </div>\r\n      <div class=\"flex gap-1 items-center\">\r\n        <div\r\n          class=\"h-8 w-8 rounded hover:bg-[#6E6E79] flex items-center justify-center\"\r\n          onClick={() => {\r\n            new Tab(\"about:preferences\", true);\r\n          }}\r\n        >\r\n          <i class=\"fa-light fa-gear mt-[2px] text-sm\"></i>\r\n        </div>\r\n        <a target=\"_blank\" href=\"https://github.com/cohenerickson/Velocity\">\r\n          <div class=\"h-8 w-8 rounded hover:bg-[#6E6E79] flex items-center justify-center\">\r\n            <i class=\"fa-brands fa-github mt-[2px] text-sm\"></i>\r\n          </div>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
      "start": 1677131499936,
      "end": 1677131500236
    },
    {
      "name": "solid",
      "result": "import { template as _$template } from \"solid-js/web\";\nimport { delegateEvents as _$delegateEvents } from \"solid-js/web\";\nimport { setAttribute as _$setAttribute } from \"solid-js/web\";\nimport { className as _$className } from \"solid-js/web\";\nimport { effect as _$effect } from \"solid-js/web\";\nimport { use as _$use } from \"solid-js/web\";\nconst _tmpl$ = /*#__PURE__*/_$template(`<div class=\"flex items-center gap-2 w-full h-10 bg-[#2B2A33] p-2 text-white\"><div class=\"flex gap-1 items-center\"><div><i class=\"fa-light fa-arrow-left mt-[2px]\"></i></div><div><i class=\"fa-light fa-arrow-right mt-[2px]\"></i></div><div class=\"h-8 w-8 rounded hover:bg-[#52525E] flex items-center justify-center\"><i></i></div></div><div class=\"flex items-center flex-1 h-[32px] text-sm rounded bg-[#1C1B22]\"><div class=\"flex h-8 w-8 rounded items-center justify-center mx-[2px]\"><i class=\"fa-light fa-magnifying-glass mt-[2px]\"></i></div><input id=\"url_bar\" class=\"flex-1 flex items-center leading-8 h-full text-sm rounded bg-transparent focus:outline-none placeholder-[#B0B3B3]\"></div><div class=\"flex gap-1 items-center\"><div class=\"h-8 w-8 rounded hover:bg-[#6E6E79] flex items-center justify-center\"><i class=\"fa-light fa-gear mt-[2px] text-sm\"></i></div><a target=\"_blank\" href=\"https://github.com/cohenerickson/Velocity\"><div class=\"h-8 w-8 rounded hover:bg-[#6E6E79] flex items-center justify-center\"><i class=\"fa-brands fa-github mt-[2px] text-sm\"></i></div></a></div></div>`, 35);\nimport { createSignal } from \"solid-js\";\nimport { tabStack } from \"~/data/appState\";\nimport engines from \"~/util/engines\";\nimport preferences from \"~/util/preferences\";\nimport * as urlUtil from \"~/util/url\";\nimport Tab from \"~/API/Tab\";\nexport default function Utility() {\n  // Navigating back when history is empty makes the parent navigate so we will have to\n  // implement our own custom history handler\n  const [canGoBack, setCanGoBack] = createSignal(false);\n  const [canGoForward, setCanGoForward] = createSignal(false);\n  function reload() {\n    if (Array.from(tabStack())[0]?.loading()) {\n      Array.from(tabStack())[0]?.stop();\n    } else {\n      Array.from(tabStack())[0].search = false;\n      Array.from(tabStack())[0]?.reload();\n    }\n  }\n  function forward() {\n    Array.from(tabStack())[0].search = false;\n    Array.from(tabStack())[0]?.goForward();\n  }\n  function back() {\n    Array.from(tabStack())[0].search = false;\n    Array.from(tabStack())[0]?.goBack();\n  }\n  function urlBar(element) {\n    element.addEventListener(\"keydown\", event => {\n      if (event.key === \"Enter\") {\n        event.preventDefault();\n        if (element.value) {\n          Array.from(tabStack())[0]?.navigate(element.value);\n          Array.from(tabStack())[0].search = false;\n          element.blur();\n        }\n      } else if (event.key === \"Escape\") {\n        Array.from(tabStack())[0].search = false;\n        element.blur();\n      } else {\n        setTimeout(() => Array.from(tabStack())[0].search = element.value, 0);\n      }\n    });\n  }\n  return (() => {\n    const _el$ = _tmpl$.cloneNode(true),\n      _el$2 = _el$.firstChild,\n      _el$3 = _el$2.firstChild,\n      _el$4 = _el$3.nextSibling,\n      _el$5 = _el$4.nextSibling,\n      _el$6 = _el$5.firstChild,\n      _el$7 = _el$2.nextSibling,\n      _el$8 = _el$7.firstChild,\n      _el$9 = _el$8.nextSibling,\n      _el$10 = _el$7.nextSibling,\n      _el$11 = _el$10.firstChild;\n    _el$3.$$click = back;\n    _el$4.$$click = forward;\n    _el$5.$$click = reload;\n    const _ref$ = urlBar;\n    typeof _ref$ === \"function\" ? _$use(_ref$, _el$9) : urlBar = _el$9;\n    _el$11.$$click = () => {\n      new Tab(\"about:preferences\", true);\n    };\n    _$effect(_p$ => {\n      const _v$ = `h-8 w-8 rounded ${canGoBack() ? \"hover:bg-[#52525E]\" : \"text-[#95959E]\"} flex items-center justify-center`,\n        _v$2 = `h-8 w-8 rounded ${canGoForward() ? \"hover:bg-[#52525E]\" : \"text-[#95959E]\"} flex items-center justify-center`,\n        _v$3 = `fa-light ${Array.from(tabStack())[0]?.loading() ? \"fa-xmark\" : \"fa-rotate-right\"} mt-[2px]`,\n        _v$4 = `Search with ${engines[preferences()[\"search.defaults.searchEngine\"] || \"google\"].name} or enter address`;\n      _v$ !== _p$._v$ && _$className(_el$3, _p$._v$ = _v$);\n      _v$2 !== _p$._v$2 && _$className(_el$4, _p$._v$2 = _v$2);\n      _v$3 !== _p$._v$3 && _$className(_el$6, _p$._v$3 = _v$3);\n      _v$4 !== _p$._v$4 && _$setAttribute(_el$9, \"placeholder\", _p$._v$4 = _v$4);\n      return _p$;\n    }, {\n      _v$: undefined,\n      _v$2: undefined,\n      _v$3: undefined,\n      _v$4: undefined\n    });\n    _$effect(() => _el$9.value = Array.from(tabStack())[0]?.search() !== false ? Array.from(tabStack())[0]?.search() : urlUtil.normalize(Array.from(tabStack())[0]?.url() || \"\"));\n    return _el$;\n  })();\n}\n_$delegateEvents([\"click\"]);",
      "start": 1677131500236,
      "end": 1677131500257
    }
  ],
  "virtual": false
}