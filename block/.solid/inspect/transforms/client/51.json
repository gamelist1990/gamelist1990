{
  "id": "C:/Users/issei/Velocity/src/API/Protocol.ts",
  "deps": [],
  "plugins": [
    "vite:load-fallback",
    "vite:esbuild"
  ],
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "import { protocols, setProtocols } from \"~/data/appState\";\r\n\r\nexport default class Protocol {\r\n  #match: RegExp;\r\n  #domains: Map<string, string> = new Map<string, string>();\r\n  #prefix: string;\r\n\r\n  constructor(prefix: string) {\r\n    this.#match = new RegExp(`^${prefix}:`);\r\n    this.#prefix = prefix;\r\n\r\n    setProtocols([...protocols(), this]);\r\n  }\r\n\r\n  register(domain: string, path: string) {\r\n    this.#domains.set(domain, path);\r\n  }\r\n\r\n  find(query: string): string | undefined {\r\n    return (\r\n      this.#domains.get(query) ||\r\n      (this.#domains.get(\"*\")\r\n        ? `${this.#domains.get(\"*\")}?q=${query}`\r\n        : undefined)\r\n    );\r\n  }\r\n\r\n  reverse(path: string): string | undefined {\r\n    for (const [domain, p] of this.#domains) {\r\n      let match = false;\r\n      try {\r\n        if (new URL(path).pathname === p) match = true;\r\n      } catch {}\r\n      if (p === path || match) {\r\n        if (domain === \"*\") {\r\n          try {\r\n            return `${this.#prefix}:${new URL(path).searchParams.get(\"q\")}`;\r\n          } catch {}\r\n        }\r\n        return `${this.#prefix}:${domain}`;\r\n      }\r\n    }\r\n  }\r\n\r\n  get match(): RegExp {\r\n    return this.#match;\r\n  }\r\n}\r\n",
      "start": 1677131500815,
      "end": 1677131500869
    },
    {
      "name": "vite:esbuild",
      "result": "import { protocols, setProtocols } from \"~/data/appState\";\nexport default class Protocol {\n  #match;\n  #domains = /* @__PURE__ */ new Map();\n  #prefix;\n  constructor(prefix) {\n    this.#match = new RegExp(`^${prefix}:`);\n    this.#prefix = prefix;\n    setProtocols([...protocols(), this]);\n  }\n  register(domain, path) {\n    this.#domains.set(domain, path);\n  }\n  find(query) {\n    return this.#domains.get(query) || (this.#domains.get(\"*\") ? `${this.#domains.get(\"*\")}?q=${query}` : void 0);\n  }\n  reverse(path) {\n    for (const [domain, p] of this.#domains) {\n      let match = false;\n      try {\n        if (new URL(path).pathname === p)\n          match = true;\n      } catch {\n      }\n      if (p === path || match) {\n        if (domain === \"*\") {\n          try {\n            return `${this.#prefix}:${new URL(path).searchParams.get(\"q\")}`;\n          } catch {\n          }\n        }\n        return `${this.#prefix}:${domain}`;\n      }\n    }\n  }\n  get match() {\n    return this.#match;\n  }\n}\n",
      "start": 1677131500869,
      "end": 1677131501382
    }
  ],
  "virtual": false
}